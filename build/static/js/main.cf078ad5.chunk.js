(this["webpackJsonpcreate-daml-app"]=this["webpackJsonpcreate-daml-app"]||[]).push([[0],{265:function(e,n,r){},278:function(e,n){},280:function(e,n){},290:function(e,n){},292:function(e,n){},319:function(e,n){},321:function(e,n){},322:function(e,n){},327:function(e,n){},329:function(e,n){},335:function(e,n){},337:function(e,n){},356:function(e,n){},368:function(e,n){},371:function(e,n){},380:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var r in e)n.hasOwnProperty(r)||(n[r]=e[r])}(r(381))},381:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var c=r(28),t=r(74),o=(r(51),r(382));n.TestUser={decoder:t.lazyMemo((function(){return c.object({alias:t.Text.decoder,public:t.Party.decoder,participantName:t.Optional(o.Daml.Script.ParticipantName).decoder})})),encode:function(e){return{alias:t.Text.encode(e.alias),public:t.Party.encode(e.public),participantName:t.Optional(o.Daml.Script.ParticipantName).encode(e.participantName)}}},n.Parties={decoder:t.lazyMemo((function(){return c.object({alice:t.Party.decoder,bob:t.Party.decoder,charlie:t.Party.decoder,public:t.Party.decoder})})),encode:function(e){return{alice:t.Party.encode(e.alice),bob:t.Party.encode(e.bob),charlie:t.Party.encode(e.charlie),public:t.Party.encode(e.public)}}}},382:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var c=r(383);n.Daml=c,n.packageId="926f6782730c31d6997c4780ddda6141530fba0cad549d80e85bae44f21a578a"},383:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var c=r(384);n.Script=c},384:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var r in e)n.hasOwnProperty(r)||(n[r]=e[r])}(r(385))},385:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var c=r(28),t=r(74);r(51);n.UserNotFound={decoder:t.lazyMemo((function(){return c.object({userId:n.UserId.decoder})})),encode:function(e){return{userId:n.UserId.encode(e.userId)}}},n.UserAlreadyExists={decoder:t.lazyMemo((function(){return c.object({userId:n.UserId.decoder})})),encode:function(e){return{userId:n.UserId.encode(e.userId)}}},n.InvalidUserId={decoder:t.lazyMemo((function(){return c.object({m:t.Text.decoder})})),encode:function(e){return{m:t.Text.encode(e.m)}}},n.UserRight={decoder:t.lazyMemo((function(){return c.oneOf(c.object({tag:c.constant("ParticipantAdmin"),value:t.Unit.decoder}),c.object({tag:c.constant("CanActAs"),value:t.Party.decoder}),c.object({tag:c.constant("CanReadAs"),value:t.Party.decoder}))})),encode:function(e){switch(e.tag){case"ParticipantAdmin":return{tag:e.tag,value:t.Unit.encode(e.value)};case"CanActAs":case"CanReadAs":return{tag:e.tag,value:t.Party.encode(e.value)};default:throw"unrecognized type tag: "+e.tag+" while serializing a value of type UserRight"}}},n.User={decoder:t.lazyMemo((function(){return c.object({userId:n.UserId.decoder,primaryParty:t.Optional(t.Party).decoder})})),encode:function(e){return{userId:n.UserId.encode(e.userId),primaryParty:t.Optional(t.Party).encode(e.primaryParty)}}},n.UserId={decoder:t.lazyMemo((function(){return c.object({unpack:t.Text.decoder})})),encode:function(e){return{unpack:t.Text.encode(e.unpack)}}},n.LedgerValue={decoder:t.lazyMemo((function(){return c.object({})})),encode:function(e){return{}}},n.SubmitFailure={decoder:t.lazyMemo((function(){return c.object({status:t.Int.decoder,description:t.Text.decoder})})),encode:function(e){return{status:t.Int.encode(e.status),description:t.Text.encode(e.description)}}},n.PartyDetails={decoder:t.lazyMemo((function(){return c.object({party:t.Party.decoder,displayName:t.Optional(t.Text).decoder,isLocal:t.Bool.decoder})})),encode:function(e){return{party:t.Party.encode(e.party),displayName:t.Optional(t.Text).encode(e.displayName),isLocal:t.Bool.encode(e.isLocal)}}},n.ParticipantName={decoder:t.lazyMemo((function(){return c.object({participantName:t.Text.decoder})})),encode:function(e){return{participantName:t.Text.encode(e.participantName)}}},n.PartyIdHint={decoder:t.lazyMemo((function(){return c.object({partyIdHint:t.Text.decoder})})),encode:function(e){return{partyIdHint:t.Text.encode(e.partyIdHint)}}}},386:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var r in e)n.hasOwnProperty(r)||(n[r]=e[r])}(r(387))},387:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var c=r(28),t=r(74),o=(r(51),r(388)),d=r(392);n.Change={decoder:t.lazyMemo((function(){return c.object({newAlias:t.Text.decoder})})),encode:function(e){return{newAlias:t.Text.encode(e.newAlias)}}},n.Alias=t.assembleTemplate({templateId:"ef7e2b4da231b5bfb900741f7314087ad61168cbdef2b5456d9c465f787a3f42:User:Alias",keyDecoder:t.lazyMemo((function(){return t.lazyMemo((function(){return o.DA.Types.Tuple2(t.Party,t.Party).decoder}))})),keyEncode:function(e){return o.DA.Types.Tuple2(t.Party,t.Party).encode(e)},decoder:t.lazyMemo((function(){return c.object({username:t.Party.decoder,alias:t.Text.decoder,public:t.Party.decoder})})),encode:function(e){return{username:t.Party.encode(e.username),alias:t.Text.encode(e.alias),public:t.Party.encode(e.public)}},Archive:{template:function(){return n.Alias},choiceName:"Archive",argumentDecoder:t.lazyMemo((function(){return d.DA.Internal.Template.Archive.decoder})),argumentEncode:function(e){return d.DA.Internal.Template.Archive.encode(e)},resultDecoder:t.lazyMemo((function(){return t.Unit.decoder})),resultEncode:function(e){return t.Unit.encode(e)}},Change:{template:function(){return n.Alias},choiceName:"Change",argumentDecoder:t.lazyMemo((function(){return n.Change.decoder})),argumentEncode:function(e){return n.Change.encode(e)},resultDecoder:t.lazyMemo((function(){return t.ContractId(n.Alias).decoder})),resultEncode:function(e){return t.ContractId(n.Alias).encode(e)}}}),t.registerTemplate(n.Alias),n.Follow={decoder:t.lazyMemo((function(){return c.object({userToFollow:t.Party.decoder})})),encode:function(e){return{userToFollow:t.Party.encode(e.userToFollow)}}},n.User=t.assembleTemplate({templateId:"ef7e2b4da231b5bfb900741f7314087ad61168cbdef2b5456d9c465f787a3f42:User:User",keyDecoder:t.lazyMemo((function(){return t.lazyMemo((function(){return t.Party.decoder}))})),keyEncode:function(e){return t.Party.encode(e)},decoder:t.lazyMemo((function(){return c.object({username:t.Party.decoder,following:t.List(t.Party).decoder})})),encode:function(e){return{username:t.Party.encode(e.username),following:t.List(t.Party).encode(e.following)}},Follow:{template:function(){return n.User},choiceName:"Follow",argumentDecoder:t.lazyMemo((function(){return n.Follow.decoder})),argumentEncode:function(e){return n.Follow.encode(e)},resultDecoder:t.lazyMemo((function(){return t.ContractId(n.User).decoder})),resultEncode:function(e){return t.ContractId(n.User).encode(e)}},Archive:{template:function(){return n.User},choiceName:"Archive",argumentDecoder:t.lazyMemo((function(){return d.DA.Internal.Template.Archive.decoder})),argumentEncode:function(e){return d.DA.Internal.Template.Archive.encode(e)},resultDecoder:t.lazyMemo((function(){return t.Unit.decoder})),resultEncode:function(e){return t.Unit.encode(e)}}}),t.registerTemplate(n.User)},388:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var c=r(389);n.DA=c,n.packageId="40f452260bef3f29dede136108fc08a88d5a5250310281067087da6f0baddff7"},389:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var c=r(390);n.Types=c},390:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var r in e)n.hasOwnProperty(r)||(n[r]=e[r])}(r(391))},391:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var c=r(28),t=r(74);r(51);n.Either=function(e,n){return{decoder:t.lazyMemo((function(){return c.oneOf(c.object({tag:c.constant("Left"),value:e.decoder}),c.object({tag:c.constant("Right"),value:n.decoder}))})),encode:function(r){switch(r.tag){case"Left":return{tag:r.tag,value:e.encode(r.value)};case"Right":return{tag:r.tag,value:n.encode(r.value)};default:throw"unrecognized type tag: "+r.tag+" while serializing a value of type Either"}}}},n.Tuple2=function(e,n){return{decoder:t.lazyMemo((function(){return c.object({_1:e.decoder,_2:n.decoder})})),encode:function(r){return{_1:e.encode(r._1),_2:n.encode(r._2)}}}},n.Tuple3=function(e,n,r){return{decoder:t.lazyMemo((function(){return c.object({_1:e.decoder,_2:n.decoder,_3:r.decoder})})),encode:function(c){return{_1:e.encode(c._1),_2:n.encode(c._2),_3:r.encode(c._3)}}}},n.Tuple4=function(e,n,r,o){return{decoder:t.lazyMemo((function(){return c.object({_1:e.decoder,_2:n.decoder,_3:r.decoder,_4:o.decoder})})),encode:function(c){return{_1:e.encode(c._1),_2:n.encode(c._2),_3:r.encode(c._3),_4:o.encode(c._4)}}}},n.Tuple5=function(e,n,r,o,d){return{decoder:t.lazyMemo((function(){return c.object({_1:e.decoder,_2:n.decoder,_3:r.decoder,_4:o.decoder,_5:d.decoder})})),encode:function(c){return{_1:e.encode(c._1),_2:n.encode(c._2),_3:r.encode(c._3),_4:o.encode(c._4),_5:d.encode(c._5)}}}},n.Tuple6=function(e,n,r,o,d,a){return{decoder:t.lazyMemo((function(){return c.object({_1:e.decoder,_2:n.decoder,_3:r.decoder,_4:o.decoder,_5:d.decoder,_6:a.decoder})})),encode:function(c){return{_1:e.encode(c._1),_2:n.encode(c._2),_3:r.encode(c._3),_4:o.encode(c._4),_5:d.encode(c._5),_6:a.encode(c._6)}}}},n.Tuple7=function(e,n,r,o,d,a,u){return{decoder:t.lazyMemo((function(){return c.object({_1:e.decoder,_2:n.decoder,_3:r.decoder,_4:o.decoder,_5:d.decoder,_6:a.decoder,_7:u.decoder})})),encode:function(c){return{_1:e.encode(c._1),_2:n.encode(c._2),_3:r.encode(c._3),_4:o.encode(c._4),_5:d.encode(c._5),_6:a.encode(c._6),_7:u.encode(c._7)}}}},n.Tuple8=function(e,n,r,o,d,a,u,i){return{decoder:t.lazyMemo((function(){return c.object({_1:e.decoder,_2:n.decoder,_3:r.decoder,_4:o.decoder,_5:d.decoder,_6:a.decoder,_7:u.decoder,_8:i.decoder})})),encode:function(c){return{_1:e.encode(c._1),_2:n.encode(c._2),_3:r.encode(c._3),_4:o.encode(c._4),_5:d.encode(c._5),_6:a.encode(c._6),_7:u.encode(c._7),_8:i.encode(c._8)}}}},n.Tuple9=function(e,n,r,o,d,a,u,i,_){return{decoder:t.lazyMemo((function(){return c.object({_1:e.decoder,_2:n.decoder,_3:r.decoder,_4:o.decoder,_5:d.decoder,_6:a.decoder,_7:u.decoder,_8:i.decoder,_9:_.decoder})})),encode:function(c){return{_1:e.encode(c._1),_2:n.encode(c._2),_3:r.encode(c._3),_4:o.encode(c._4),_5:d.encode(c._5),_6:a.encode(c._6),_7:u.encode(c._7),_8:i.encode(c._8),_9:_.encode(c._9)}}}},n.Tuple10=function(e,n,r,o,d,a,u,i,_,s){return{decoder:t.lazyMemo((function(){return c.object({_1:e.decoder,_2:n.decoder,_3:r.decoder,_4:o.decoder,_5:d.decoder,_6:a.decoder,_7:u.decoder,_8:i.decoder,_9:_.decoder,_10:s.decoder})})),encode:function(c){return{_1:e.encode(c._1),_2:n.encode(c._2),_3:r.encode(c._3),_4:o.encode(c._4),_5:d.encode(c._5),_6:a.encode(c._6),_7:u.encode(c._7),_8:i.encode(c._8),_9:_.encode(c._9),_10:s.encode(c._10)}}}},n.Tuple11=function(e,n,r,o,d,a,u,i,_,s,l){return{decoder:t.lazyMemo((function(){return c.object({_1:e.decoder,_2:n.decoder,_3:r.decoder,_4:o.decoder,_5:d.decoder,_6:a.decoder,_7:u.decoder,_8:i.decoder,_9:_.decoder,_10:s.decoder,_11:l.decoder})})),encode:function(c){return{_1:e.encode(c._1),_2:n.encode(c._2),_3:r.encode(c._3),_4:o.encode(c._4),_5:d.encode(c._5),_6:a.encode(c._6),_7:u.encode(c._7),_8:i.encode(c._8),_9:_.encode(c._9),_10:s.encode(c._10),_11:l.encode(c._11)}}}},n.Tuple12=function(e,n,r,o,d,a,u,i,_,s,l,f){return{decoder:t.lazyMemo((function(){return c.object({_1:e.decoder,_2:n.decoder,_3:r.decoder,_4:o.decoder,_5:d.decoder,_6:a.decoder,_7:u.decoder,_8:i.decoder,_9:_.decoder,_10:s.decoder,_11:l.decoder,_12:f.decoder})})),encode:function(c){return{_1:e.encode(c._1),_2:n.encode(c._2),_3:r.encode(c._3),_4:o.encode(c._4),_5:d.encode(c._5),_6:a.encode(c._6),_7:u.encode(c._7),_8:i.encode(c._8),_9:_.encode(c._9),_10:s.encode(c._10),_11:l.encode(c._11),_12:f.encode(c._12)}}}},n.Tuple13=function(e,n,r,o,d,a,u,i,_,s,l,f,b){return{decoder:t.lazyMemo((function(){return c.object({_1:e.decoder,_2:n.decoder,_3:r.decoder,_4:o.decoder,_5:d.decoder,_6:a.decoder,_7:u.decoder,_8:i.decoder,_9:_.decoder,_10:s.decoder,_11:l.decoder,_12:f.decoder,_13:b.decoder})})),encode:function(c){return{_1:e.encode(c._1),_2:n.encode(c._2),_3:r.encode(c._3),_4:o.encode(c._4),_5:d.encode(c._5),_6:a.encode(c._6),_7:u.encode(c._7),_8:i.encode(c._8),_9:_.encode(c._9),_10:s.encode(c._10),_11:l.encode(c._11),_12:f.encode(c._12),_13:b.encode(c._13)}}}},n.Tuple14=function(e,n,r,o,d,a,u,i,_,s,l,f,b,p){return{decoder:t.lazyMemo((function(){return c.object({_1:e.decoder,_2:n.decoder,_3:r.decoder,_4:o.decoder,_5:d.decoder,_6:a.decoder,_7:u.decoder,_8:i.decoder,_9:_.decoder,_10:s.decoder,_11:l.decoder,_12:f.decoder,_13:b.decoder,_14:p.decoder})})),encode:function(c){return{_1:e.encode(c._1),_2:n.encode(c._2),_3:r.encode(c._3),_4:o.encode(c._4),_5:d.encode(c._5),_6:a.encode(c._6),_7:u.encode(c._7),_8:i.encode(c._8),_9:_.encode(c._9),_10:s.encode(c._10),_11:l.encode(c._11),_12:f.encode(c._12),_13:b.encode(c._13),_14:p.encode(c._14)}}}},n.Tuple15=function(e,n,r,o,d,a,u,i,_,s,l,f,b,p,j){return{decoder:t.lazyMemo((function(){return c.object({_1:e.decoder,_2:n.decoder,_3:r.decoder,_4:o.decoder,_5:d.decoder,_6:a.decoder,_7:u.decoder,_8:i.decoder,_9:_.decoder,_10:s.decoder,_11:l.decoder,_12:f.decoder,_13:b.decoder,_14:p.decoder,_15:j.decoder})})),encode:function(c){return{_1:e.encode(c._1),_2:n.encode(c._2),_3:r.encode(c._3),_4:o.encode(c._4),_5:d.encode(c._5),_6:a.encode(c._6),_7:u.encode(c._7),_8:i.encode(c._8),_9:_.encode(c._9),_10:s.encode(c._10),_11:l.encode(c._11),_12:f.encode(c._12),_13:b.encode(c._13),_14:p.encode(c._14),_15:j.encode(c._15)}}}},n.Tuple16=function(e,n,r,o,d,a,u,i,_,s,l,f,b,p,j,m){return{decoder:t.lazyMemo((function(){return c.object({_1:e.decoder,_2:n.decoder,_3:r.decoder,_4:o.decoder,_5:d.decoder,_6:a.decoder,_7:u.decoder,_8:i.decoder,_9:_.decoder,_10:s.decoder,_11:l.decoder,_12:f.decoder,_13:b.decoder,_14:p.decoder,_15:j.decoder,_16:m.decoder})})),encode:function(c){return{_1:e.encode(c._1),_2:n.encode(c._2),_3:r.encode(c._3),_4:o.encode(c._4),_5:d.encode(c._5),_6:a.encode(c._6),_7:u.encode(c._7),_8:i.encode(c._8),_9:_.encode(c._9),_10:s.encode(c._10),_11:l.encode(c._11),_12:f.encode(c._12),_13:b.encode(c._13),_14:p.encode(c._14),_15:j.encode(c._15),_16:m.encode(c._16)}}}},n.Tuple17=function(e,n,r,o,d,a,u,i,_,s,l,f,b,p,j,m,y){return{decoder:t.lazyMemo((function(){return c.object({_1:e.decoder,_2:n.decoder,_3:r.decoder,_4:o.decoder,_5:d.decoder,_6:a.decoder,_7:u.decoder,_8:i.decoder,_9:_.decoder,_10:s.decoder,_11:l.decoder,_12:f.decoder,_13:b.decoder,_14:p.decoder,_15:j.decoder,_16:m.decoder,_17:y.decoder})})),encode:function(c){return{_1:e.encode(c._1),_2:n.encode(c._2),_3:r.encode(c._3),_4:o.encode(c._4),_5:d.encode(c._5),_6:a.encode(c._6),_7:u.encode(c._7),_8:i.encode(c._8),_9:_.encode(c._9),_10:s.encode(c._10),_11:l.encode(c._11),_12:f.encode(c._12),_13:b.encode(c._13),_14:p.encode(c._14),_15:j.encode(c._15),_16:m.encode(c._16),_17:y.encode(c._17)}}}},n.Tuple18=function(e,n,r,o,d,a,u,i,_,s,l,f,b,p,j,m,y,O){return{decoder:t.lazyMemo((function(){return c.object({_1:e.decoder,_2:n.decoder,_3:r.decoder,_4:o.decoder,_5:d.decoder,_6:a.decoder,_7:u.decoder,_8:i.decoder,_9:_.decoder,_10:s.decoder,_11:l.decoder,_12:f.decoder,_13:b.decoder,_14:p.decoder,_15:j.decoder,_16:m.decoder,_17:y.decoder,_18:O.decoder})})),encode:function(c){return{_1:e.encode(c._1),_2:n.encode(c._2),_3:r.encode(c._3),_4:o.encode(c._4),_5:d.encode(c._5),_6:a.encode(c._6),_7:u.encode(c._7),_8:i.encode(c._8),_9:_.encode(c._9),_10:s.encode(c._10),_11:l.encode(c._11),_12:f.encode(c._12),_13:b.encode(c._13),_14:p.encode(c._14),_15:j.encode(c._15),_16:m.encode(c._16),_17:y.encode(c._17),_18:O.encode(c._18)}}}},n.Tuple19=function(e,n,r,o,d,a,u,i,_,s,l,f,b,p,j,m,y,O,v){return{decoder:t.lazyMemo((function(){return c.object({_1:e.decoder,_2:n.decoder,_3:r.decoder,_4:o.decoder,_5:d.decoder,_6:a.decoder,_7:u.decoder,_8:i.decoder,_9:_.decoder,_10:s.decoder,_11:l.decoder,_12:f.decoder,_13:b.decoder,_14:p.decoder,_15:j.decoder,_16:m.decoder,_17:y.decoder,_18:O.decoder,_19:v.decoder})})),encode:function(c){return{_1:e.encode(c._1),_2:n.encode(c._2),_3:r.encode(c._3),_4:o.encode(c._4),_5:d.encode(c._5),_6:a.encode(c._6),_7:u.encode(c._7),_8:i.encode(c._8),_9:_.encode(c._9),_10:s.encode(c._10),_11:l.encode(c._11),_12:f.encode(c._12),_13:b.encode(c._13),_14:p.encode(c._14),_15:j.encode(c._15),_16:m.encode(c._16),_17:y.encode(c._17),_18:O.encode(c._18),_19:v.encode(c._19)}}}},n.Tuple20=function(e,n,r,o,d,a,u,i,_,s,l,f,b,p,j,m,y,O,v,h){return{decoder:t.lazyMemo((function(){return c.object({_1:e.decoder,_2:n.decoder,_3:r.decoder,_4:o.decoder,_5:d.decoder,_6:a.decoder,_7:u.decoder,_8:i.decoder,_9:_.decoder,_10:s.decoder,_11:l.decoder,_12:f.decoder,_13:b.decoder,_14:p.decoder,_15:j.decoder,_16:m.decoder,_17:y.decoder,_18:O.decoder,_19:v.decoder,_20:h.decoder})})),encode:function(c){return{_1:e.encode(c._1),_2:n.encode(c._2),_3:r.encode(c._3),_4:o.encode(c._4),_5:d.encode(c._5),_6:a.encode(c._6),_7:u.encode(c._7),_8:i.encode(c._8),_9:_.encode(c._9),_10:s.encode(c._10),_11:l.encode(c._11),_12:f.encode(c._12),_13:b.encode(c._13),_14:p.encode(c._14),_15:j.encode(c._15),_16:m.encode(c._16),_17:y.encode(c._17),_18:O.encode(c._18),_19:v.encode(c._19),_20:h.encode(c._20)}}}}},392:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var c=r(393);n.DA=c,n.packageId="d14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662"},393:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var c=r(394);n.Internal=c},394:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var c=r(395);n.Template=c},395:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var r in e)n.hasOwnProperty(r)||(n[r]=e[r])}(r(396))},396:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var c=r(28),t=r(74);r(51);n.Archive={decoder:t.lazyMemo((function(){return c.object({})})),encode:function(e){return{}}}},398:function(e,n,r){"use strict";r.r(n);var c,t=r(0),o=r.n(t),d=r(69),a=r.n(d),u=(r(264),r(265),r(37)),i=r(12),_=r(23),s=r(417),l=r(418),f=r(247),b=r(412),p=r(419),j=r(415),m=r(51),y=r.n(m),O=r(34),v=r.n(O),h=r(244),g={tokenPayload:function(e,n){return{"https://daml.com/ledger-api":{ledgerId:n,applicationId:"create-daml-app",actAs:[e]}}},primaryParty:function(){var e=Object(_.a)(Object(i.a)().mark((function e(n,r){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n);case 1:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),publicParty:function(){var e=Object(_.a)(Object(i.a)().mark((function e(n,r){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","public");case 1:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}()},x={tokenPayload:function(e,n){return{sub:e,scope:"daml_ledger_api"}},primaryParty:function(){var e=Object(_.a)(Object(i.a)().mark((function e(n,r){var c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getUser();case 2:if(void 0===(c=e.sent).primaryParty){e.next=7;break}return e.abrupt("return",c.primaryParty);case 7:throw new Error("User '".concat(n,"' has no primary party"));case 8:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),publicParty:function(){var e=Object(_.a)(Object(i.a)().mark((function e(n,r){var c,t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.listUserRights();case 2:if(c=e.sent,0!==(t=c.filter((function(e){return"CanReadAs"===e.type}))).length){e.next=8;break}throw new Error("User '".concat(n," has no readAs claims for a public party"));case 8:if(!(t.length>1)){e.next=12;break}throw new Error("User '".concat(n," has readAs claims for more than one party"));case 12:return e.abrupt("return",t[0].party);case 13:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}()},P="false"!==(null===(c=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SUPPORTS_USERMANAGEMENT)||void 0===c?void 0:c.toLowerCase())?x:g,w={provider:"daml-hub"},T=function(){var e,n=null!==(e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_LEDGER_ID)&&void 0!==e?e:"create-daml-app-sandbox";return{provider:"none",userManagement:P,makeToken:function(e){var r=P.tokenPayload(e,n);return Object(h.encode)(r,"secret","HS256")}}}(),M=Object(O.isRunningOnHub)()?w:T,k=r(4),A=function(e){var n=e.onLogin,r=Object(t.useCallback)(function(){var e=Object(_.a)(Object(i.a)().mark((function e(r){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(r);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[n]),c=function(e){return Object(k.jsx)(s.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(k.jsxs)(s.a.Column,{style:{maxWidth:450},children:[Object(k.jsx)(l.a,{as:"h1",textAlign:"center",size:"huge",style:{color:"#223668"},children:Object(k.jsxs)(l.a.Content,{children:["Create",Object(k.jsx)(f.a,{as:"a",href:"https://www.digitalasset.com/developers",target:"_blank",src:"/daml.svg",alt:"Daml Logo",spaced:!0,size:"small",verticalAlign:"bottom"}),"App"]})}),Object(k.jsx)(b.a,{size:"large",className:"test-select-login-screen",children:Object(k.jsx)(p.a,{children:e})})]})})},d=function(e){var n=e.auth,d=o.a.useState(""),a=Object(u.a)(d,2),s=a[0],l=a[1],f=function(){var e=Object(_.a)(Object(i.a)().mark((function e(c){var o,d,a,l;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),o=n.makeToken(s),d=new y.a({token:o}),e.next=5,n.userManagement.primaryParty(s,d).catch((function(e){var n=e instanceof Error?e.toString():JSON.stringify(e);throw alert("Failed to login as '".concat(s,"':\n").concat(n)),e}));case 5:return a=e.sent,l=function(){var e=Object(t.useState)(void 0),r=Object(u.a)(e,2),c=r[0],o=r[1];return{usePublicParty:function(){return c},setup:function(){var e=function(){var e=Object(_.a)(Object(i.a)().mark((function e(){var r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.userManagement.publicParty(s,d).catch((function(e){var n=e instanceof Error?e.toString():JSON.stringify(e);throw alert("Failed to find primary party for user '".concat(s,"':\n").concat(n)),e}));case 2:r=e.sent,o(r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}},e.next=9,r({user:{userId:s,primaryParty:a},party:a,token:n.makeToken(s),getPublicParty:l});case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return c(Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(b.a.Input,{fluid:!0,placeholder:"Username",value:s,className:"test-select-username-field",onChange:function(e,n){var r,c=n.value;return l(null!==(r=null===c||void 0===c?void 0:c.toString())&&void 0!==r?r:"")}}),Object(k.jsx)(j.a,{primary:!0,fluid:!0,className:"test-select-login-button",onClick:f,children:"Log in"})]}))},a=function(){return c(Object(k.jsx)(O.DamlHubLogin,{onLogin:function(e){e&&r({party:e.party,user:{userId:e.partyName,primaryParty:e.party},token:e.token,getPublicParty:function(){return{usePublicParty:function(){return Object(O.usePublicParty)()},setup:function(){}}}})},options:{method:{button:{render:function(){return Object(k.jsx)(j.a,{primary:!0,fluid:!0})}}}}}))};return"none"===M.provider?Object(k.jsx)(d,{auth:M}):"daml-hub"===M.provider?Object(k.jsx)(a,{}):Object(k.jsx)("div",{children:"Invalid configuation."})},I=r(413),U=r(410),z=r(62),C=r(411),S=r(43),E=r(110),N=r(414),D=function(e){var n=e.users,r=e.partyToAlias,c=e.onFollow;return Object(k.jsx)(N.a,{divided:!0,relaxed:!0,children:Object(E.a)(n).sort((function(e,n){return e.username.localeCompare(n.username)})).map((function(e){var n;return Object(k.jsxs)(N.a.Item,{children:[Object(k.jsx)(N.a.Icon,{name:"user"}),Object(k.jsxs)(N.a.Content,{children:[Object(k.jsx)(N.a.Content,{floated:"right",children:Object(k.jsx)(z.a,{name:"add user",link:!0,className:"test-select-add-user-icon",onClick:function(){return c(e.username)}})}),Object(k.jsx)(N.a.Header,{className:"test-select-user-in-network",children:null!==(n=r.get(e.username))&&void 0!==n?n:e.username})]}),Object(k.jsx)(N.a.List,{children:Object(E.a)(e.following).sort((function(e,n){return e.localeCompare(n)})).map((function(e){var n;return Object(k.jsxs)(N.a.Item,{children:[Object(k.jsx)(N.a.Content,{floated:"right",children:Object(k.jsx)(z.a,{name:"add user",link:!0,className:"test-select-add-user-following-icon",onClick:function(){return c(e)}})}),Object(k.jsx)(N.a.Icon,{name:"user outline"}),Object(k.jsx)(N.a.Content,{children:Object(k.jsxs)(N.a.Header,{children:[null!==(n=r.get(e))&&void 0!==n?n:e," "]})})]},e)}))})]},e.username)}))})},L=function(e){var n=e.parties,r=e.partyToAlias,c=e.onAddParty,t=o.a.useState(void 0),d=Object(u.a)(t,2),a=d[0],s=d[1],l=o.a.useState(!1),f=Object(u.a)(l,2),p=f[0],m=f[1],y=Array.from(r.entries()).map((function(e){return n=e[0],r=e[1],{key:n,text:r,value:n};var n,r})),O=function(){var e=Object(_.a)(Object(i.a)().mark((function e(n){var r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n&&n.preventDefault(),m(!0),e.next=4,c(null!==a&&void 0!==a?a:"");case 4:r=e.sent,m(!1),r&&s(void 0);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(k.jsxs)(N.a,{relaxed:!0,children:[Object(E.a)(n).sort((function(e,n){return e.localeCompare(n)})).map((function(e){var n;return Object(k.jsxs)(N.a.Item,{children:[Object(k.jsx)(N.a.Icon,{name:"user outline"}),Object(k.jsx)(N.a.Content,{children:Object(k.jsx)(N.a.Header,{className:"test-select-following",children:null!==(n=r.get(e))&&void 0!==n?n:e})})]},e)})),Object(k.jsx)("br",{}),Object(k.jsxs)(b.a,{onSubmit:O,children:[Object(k.jsx)(b.a.Select,{fluid:!0,search:!0,allowAdditions:!0,additionLabel:"Insert a party identifier: ",additionPosition:"bottom",readOnly:p,loading:p,className:"test-select-follow-input",placeholder:null!==a&&void 0!==a?a:"Username to follow",value:a,options:y,onAddItem:function(e,n){var r=n.value;return s(null===r||void 0===r?void 0:r.toString())},onChange:function(e,n){var r=n.value;return s(null===r||void 0===r?void 0:r.toString())}}),Object(k.jsx)(j.a,{type:"submit",className:"test-select-follow-button",children:"Follow"})]})]})},R=function(){var e,n,r,c=K.useParty(),o=K.useStreamFetchByKeys(S.User.User,(function(){return[c]}),[c]),d=B.useStreamQueries(S.User.Alias,(function(){return[]}),[]),a=null===(e=o.contracts[0])||void 0===e?void 0:e.payload,u=K.useStreamQueries(S.User.User).contracts,f=Object(t.useMemo)((function(){return u.map((function(e){return e.payload})).filter((function(e){return e.username!==c})).sort((function(e,n){return e.username.localeCompare(n.username)}))}),[u,c]),b=Object(t.useMemo)((function(){return new Map(d.contracts.map((function(e){var n=e.payload;return[n.username,n.alias]})))}),[d]),j=d.loading?"loading ...":null!==(n=b.get(c))&&void 0!==n?n:c,m=K.useLedger(),y=function(){var e=Object(_.a)(Object(i.a)().mark((function e(n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.exerciseByKey(S.User.User.Follow,c,{userToFollow:n});case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),alert("Unknown error:\n".concat(JSON.stringify(e.t0))),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n){return e.apply(this,arguments)}}();return Object(k.jsx)(U.a,{children:Object(k.jsx)(s.a,{centered:!0,columns:2,children:Object(k.jsx)(s.a.Row,{stretched:!0,children:Object(k.jsxs)(s.a.Column,{children:[Object(k.jsx)(l.a,{as:"h1",size:"huge",color:"blue",textAlign:"center",style:{padding:"1ex 0em 0ex 0em"},children:j?"Welcome, ".concat(j,"!"):"Loading..."}),Object(k.jsxs)(p.a,{children:[Object(k.jsxs)(l.a,{as:"h2",children:[Object(k.jsx)(z.a,{name:"user"}),Object(k.jsxs)(l.a.Content,{children:[null!==j&&void 0!==j?j:"Loading...",Object(k.jsx)(l.a.Subheader,{children:"Users I'm following"})]})]}),Object(k.jsx)(C.a,{}),Object(k.jsx)(L,{parties:null!==(r=null===a||void 0===a?void 0:a.following)&&void 0!==r?r:[],partyToAlias:b,onAddParty:y})]}),Object(k.jsxs)(p.a,{children:[Object(k.jsxs)(l.a,{as:"h2",children:[Object(k.jsx)(z.a,{name:"globe"}),Object(k.jsxs)(l.a.Content,{children:["The Network",Object(k.jsx)(l.a.Subheader,{children:"My followers and users they are following"})]})]}),Object(k.jsx)(C.a,{}),Object(k.jsx)(D,{users:f,partyToAlias:b,onFollow:y})]})]})})})})},F=function(e){var n=e.onLogout,r=e.getPublicParty,c=K.useUser(),o=K.useParty(),d=r(),a=d.usePublicParty,s=d.setup,l=Object(t.useCallback)(s,[s]);Object(t.useEffect)(l);var b=a(),p=K.useLedger(),j=Object(t.useState)(!1),m=Object(u.a)(j,2),y=m[0],O=m[1],v=Object(t.useState)(!1),h=Object(u.a)(v,2),g=h[0],x=h[1],P=Object(t.useCallback)(Object(_.a)(Object(i.a)().mark((function e(){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.fetchByKey(S.User.User,o);case 3:if(null!==e.sent){e.next=9;break}return n={username:o,following:[]},e.next=8,p.create(S.User.User,n);case 8:e.sent;case 9:O(!0),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),alert("Unknown error:\n".concat(JSON.stringify(e.t0)));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),[p,o]),w=Object(t.useCallback)(Object(_.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b){e.next=14;break}return e.prev=1,e.next=4,p.fetchByKey(S.User.Alias,{_1:o,_2:b});case 4:if(null!==e.sent){e.next=8;break}return e.next=8,p.create(S.User.Alias,{username:o,alias:(n=c.userId,n.charAt(0).toUpperCase()+n.slice(1)),public:b});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),alert("Unknown error:\n".concat(JSON.stringify(e.t0)));case 13:x(!0);case 14:case"end":return e.stop()}var n}),e,null,[[1,10]])}))),[p,c,b,o]);return Object(t.useEffect)((function(){P()}),[P]),Object(t.useEffect)((function(){w()}),[w]),y&&g?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(I.a,{icon:!0,borderless:!0,children:[Object(k.jsx)(I.a.Item,{children:Object(k.jsx)(f.a,{as:"a",href:"https://www.digitalasset.com/developers",target:"_blank",src:"/daml.svg",alt:"Daml Logo",size:"mini"})}),Object(k.jsxs)(I.a.Menu,{position:"right",className:"test-select-main-menu",children:[Object(k.jsxs)(I.a.Item,{position:"right",children:["You are logged in as ",c.userId,"."]}),Object(k.jsx)(I.a.Item,{position:"right",active:!1,className:"test-select-log-out",onClick:n,icon:"log out"})]})]}),Object(k.jsx)(R,{})]}):Object(k.jsx)("h1",{children:"Logging in..."})},H=r(175),K=Object(H.createLedgerContext)(),B=Object(O.isRunningOnHub)()?Object(H.createLedgerContext)():K,W=function(){var e=o.a.useState(),n=Object(u.a)(e,2),r=n[0],c=n[1];if(r){var t=function(e){var n=e.children,r=Object(O.usePublicToken)(),c=Object(O.usePublicParty)();return r&&c?Object(k.jsx)(B.DamlLedger,{token:r.token,party:c,children:n}):Object(k.jsx)("h1",{children:"Loading ..."})},d=function(e){var n=e.children;return Object(O.isRunningOnHub)()?Object(k.jsx)(v.a,{token:r.token,children:Object(k.jsx)(t,{children:n})}):Object(k.jsx)("div",{children:n})};return Object(k.jsx)(d,{children:Object(k.jsx)(K.DamlLedger,{token:r.token,party:r.party,user:r.user,children:Object(k.jsx)(F,{getPublicParty:r.getPublicParty,onLogout:function(){"daml-hub"===M.provider&&Object(O.damlHubLogout)(),c(void 0)}})})})}return Object(k.jsx)(A,{onLogin:c})};a.a.render(Object(k.jsx)(W,{}),document.getElementById("root"))},43:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var c=r(380);n.Setup=c;var t=r(386);n.User=t,n.packageId="ef7e2b4da231b5bfb900741f7314087ad61168cbdef2b5456d9c465f787a3f42"}},[[398,1,2]]]);
//# sourceMappingURL=main.cf078ad5.chunk.js.map